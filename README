Running locally
===============

Optionally, enable the URLRewriteFilter
---------------------------------------
The URL Rewriter has been set up in this project on the CMS and site part, however the site's URLRewriteFilter has been
commented out so the redirecting functionality is off on production, preventing users to add malicious redirects.

If you want to demo URL rewriting on your local machine, uncomment out in the site's web.xml
the <filter-mapping> element for RewriteFilter. Do not commit this change.


Hippo Go Green uses the Maven Cargo plugin to run the CMS and site locally in Tomcat.
From the project root folder, execute:

  $ mvn clean install
  $ mvn -P cargo.run

Access the CMS at http://localhost:8080/cms, and the site at http://localhost:8080/site
Logs are located in target/tomcat8x/logs

Building distribution
=====================

To build a Tomcat distribution tarball containing only deployable artifacts:

  $ mvn clean install
  $ mvn -P dist

See also src/main/assembly/distribution.xml

Creating the demo launcher
==========================

The demo launcher is an archive containing an executable jar that launches a Tomcat instance containing
the CMS and the Go Green site application.

To create demo launcher:
  $ mvn clean install
  $ cd dist
  $ mvn clean install -P dist-full,demo-launcher

This will create a .tar.gz and .zip archive containing the demo launcher under 'dist/target' directory

Using JRebel
============

Set the environment variable REBEL_HOME to the directory containing jrebel.jar.
Build with:

  $ mvn -Djrebel

or add -Djrebel to your MAVEN_OPTS environment variable:

  $ export MAVEN_OPTS="$MAVEN_OPTS -Djrebel"

Note: the latter *always* enables JRebel. To disable temporarily (e.g. when building/deploying a release) use

  $ mvn -P -jrebel

Do *not* activate JRebel using "mvn -P jrebel", as it then deactivates the "default" profile.

Hot deploy
==========

To hot deploy, redeploy or undeploy the CMS or site:

  $ cd cms (or site)
  $ mvn cargo:redeploy (or cargo:undeploy, or cargo:deploy)


Special thanks:
===============
- To the PugPig team (PugPig.com) about the help we got from them for the IPad magazine support
  (@see site/src/main/webapp/WEB-INF/jsp/ipadmag/events/detail.jsp)
